---
import { getCollection } from "astro:content";
const allwork = await getCollection("work");
import BaseLayout from "@/layouts/BaseLayout.astro";
import WorkEntries from "@/components/work/WorkEntries.astro";
---

<BaseLayout>
  <section>
    <div class="mx-auto max-w-3xl px-8 py-16">
      <h1
        class="text-2xl font-medium text-balance tracking-tight text-neutral-900 dark:text-white sm:text-4xl">
        All my work
      </h1>
      <p class="mt-4 text-neutral-500 dark:text-neutral-400">
        Here you will find all of the work I have done over the years. I am
        always looking for new clients and projects to work on.
      </p>
      <div class="mt-24">
        <a
          href="/studio/home"
          title="your title"
          aria-label="your label"
          class="inline-flex items-center gap-2 justify-center rounded-lg py-3 px-6 text-sm outline-offset-2 transition bg-white text-black font-medium hover:bg-neutral-50 dark:text-white dark:bg-neutral-800/50 dark:hover:bg-neutral-800 dark:hover:text-neutral-50 group w-full lg:w-auto border dark:border-white/20 h-10">
          See all my services
        </a>
      </div>
      <div class="mt-4 divide-y">
        <div
          class="grid grid-cols-1 mt-4 lg:grid-cols-3 gap-12 items-start py-12 border-t dark:border-neutral-700">
          <p
            class="text-lg font-semibold leading-6 text-neutral-900 dark:text-white group-hover:text-blue-400">
            2024
          </p>
          <ul
            role="list"
            class="flex flex-col gap-y-6 lg:col-span-2">
            {
              allwork
                .slice(0, 2)
                .sort(
                  (a, b) =>
                    new Date(b.data.pubDate).getTime() -
                    new Date(a.data.pubDate).getTime()
                )
                .map((post) => (
                  <WorkEntries
                    url={"/work/" + post.slug}
                    subtitle={post.data.subtitle}
                    title={post.data.title}
                    pubDate={post.data.pubDate.toString().slice(10, 15)}
                  />
                ))
            }
          </ul>
        </div>
        <div
          class="grid grid-cols-1 mt-4 lg:grid-cols-3 gap-12 items-start py-12 border-t dark:border-neutral-700">
          <p
            class="text-lg font-semibold leading-6 text-neutral-900 dark:text-white group-hover:text-blue-400">
            2023
          </p>
          <ul
            role="list"
            class="flex flex-col gap-y-6 lg:col-span-2">
            {
              allwork
                .slice(2, 4)
                .sort(
                  (a, b) =>
                    new Date(b.data.pubDate).getTime() -
                    new Date(a.data.pubDate).getTime()
                )
                .map((post) => (
                  <WorkEntries
                    url={"/work/" + post.slug}
                    subtitle={post.data.subtitle}
                    title={post.data.title}
                    pubDate={post.data.pubDate.toString().slice(10, 15)}
                  />
                ))
            }
          </ul>
        </div>
        <div
          class="grid grid-cols-1 mt-4 lg:grid-cols-3 gap-12 items-start py-12 border-t dark:border-neutral-700">
          <p
            class="text-lg font-semibold leading-6 text-neutral-900 dark:text-white group-hover:text-blue-400">
            2022
          </p>
          <ul
            role="list"
            class="flex flex-col gap-y-6 lg:col-span-2">
            {
              allwork
                .slice(4, 6)
                .sort(
                  (a, b) =>
                    new Date(b.data.pubDate).getTime() -
                    new Date(a.data.pubDate).getTime()
                )
                .map((post) => (
                  <WorkEntries
                    url={"/work/" + post.slug}
                    subtitle={post.data.subtitle}
                    title={post.data.title}
                    pubDate={post.data.pubDate.toString().slice(10, 15)}
                  />
                ))
            }
          </ul>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
